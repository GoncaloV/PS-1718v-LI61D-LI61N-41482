<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Gamelog - Lists</title>
    <div th:replace="fragments/header"/>
</head>
<body>
<div th:replace="fragments/navbar :: navbar"/>
<div th:if="${lists}">
<h1>Your lists:</h1>
<div th:each="list : ${lists}">
    <br/>
        <form th:action="'/list/' + ${list.id.name} + '/delete'" class="form-inline" method="post">
            <a class="btn btn-info" th:href="'/list/' + ${list.id.name}" th:text="${list.id.name}"/>
            <input type="hidden" name="listid" th:value="${list.id.name}"/>
            <input type="submit" class="btn btn-default" value="Delete"/>
        </form>
    <span th:each="game : ${list.games}">
        <img th:src="${game.coverUrl}" height="100" width="100"/>
    </span>
    <div th:if="${!list.tags.empty}">
        <h6 th:text="'Tags for ' + ${list.id.name}"></h6>
    <div th:each="tag : ${list.tags}">
        <form th:action="'/list/removeTag'" method="post">
        <span  class="btn btn-info btn-sm" th:text="${tag.id.name}"/>
            <input type="hidden" name="tagname" th:value="${tag.id.name}"/>
            <input type="hidden" name="listname" th:value="${list.id.name}"/>
            <input type="submit" value="Remove"/>
        </form>
    </div>
    </div>
    <div th:if="${!tags.empty}">
    <h6 th:text="'Add tag to ' + ${list.id.name}"/>
    <form th:action="'/list/addTag'" method="post">
        <select class="form-control" name="tagname">
            <option th:each="tag : ${tags}" th:value="${tag.id.name}" th:text="${tag.id.name}"></option>
        </select>
        <input type="hidden" name="listname" th:value="${list.id.name}"/>
        <input type="submit" value="Add"/>
    </form>
    </div>
</div>
    <br/>
    <h6>Add new list</h6>
    <form th:action="@{/lists}" method="post">
        <div class="form-group">
            <input type="text" class="form-control" name="listname"/>
            <input type="submit" class="btn btn-default"/>
        </div>
    </form>
</div>
</body>
</html>