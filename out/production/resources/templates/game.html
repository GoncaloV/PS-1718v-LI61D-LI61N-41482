<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title th:text="${game.name}"></title>
</head>
<body>
<div th:replace="fragments/header :: header"/>
    <h1 th:text="${game.name}"></h1>
    <img th:src="${game.coverUrl}"/>
    <p th:text="${game.summary}"></p>
    <p>Favorites:<div th:text="${game.favorites}"/></p>
    <p>Average Rating: <div th:text="${game.averageRatings != null} ? ${game.averageRatings} : 'No ratings yet!'"/></p>
    <p>Plays: <div th:text="${game.plays}+ ' players have made an entry of this game.'"/></p>

    <div th:if="${#httpServletRequest.remoteUser}">
        <h2>Add to Diary</h2>
        <form th:action="@{/entry}" method="post">
            <div>Rating:</div>
            <th:block th:each="i: ${#numbers.sequence(1, 10)}">
                <input type="radio" name="rating" th:value="${i}" th:text="${i}"/>
            </th:block>
            <div>Review:</div>
            <textarea rows="5" cols="100" name="review"/>
            <input type="checkbox" name="favorite">Favorite</input>
            <input type="checkbox" name="secret" th:checked="true">Private</input>
            <input id="datepicker" type="date" name="date"/>
            <input type="hidden" name="gameid" th:value="${game.id}"/>
            <input type="submit" value="Create an Entry"/>
        </form>
    </div>
</body>
</html>